---
title: 推荐系统
date: 2025-10-04
categories: 推荐系统
tags:
  - 算法
  - 推荐
---

## 转化流程

分析用户**开始流程**到**转化为目标用户**的行为，将之划分为不同阶段，每个阶段的加深都代表用户**兴趣的深入**，后续推荐系统的设计皆以此为蓝本

如短视频推荐中，存在**曝光**->**点击**->**动作（点赞、收藏、评论、转发等）**这样一条转化流程

## 推荐系统链路

1. 召回，多通道**快速**获取大量候选项（千万级、亿级）
2. 粗排，使用**小模型**对候选进行**打分**、**排序**、**截断（top-k）**，**快速**获取候选（千级、万级）
3. 精排，用**大规模神经网络模型**对候选进行**打分**、**排序**、**截断（可选）**，这是实现**精细**推荐的核心（百级）
4. 重排，对精排后的数据进行**采样**、**排序**优化、**多样性**优化、**插入**广告或其他内容（数十级）

## 测试链路

**离线实验**->**A/B测试（用户分流，在线测试）**->**全量测试**

*流量不足问题*：

生产中，推荐系统全链路以及其他各个部门可能都需要进行A/B测试，那么可能会出现流量不够分、流量不足的问题

解决方法——**分层实验**

将各阶段划分到层，**同层**实验**互斥**，**不同层**之间**正交（同时进行）**

### Holdout

取一定数量用户作为holdout用户，对其**不进行任何策略优化（目的用于测算自然增长）**，其余用户使用策略，对比两组的各项指标

### 推全

**新建**推全层，与其他层**正交**

### 反转实验

在新的推全层上保留一个小的反转桶，使用**旧策略**，以**长期**观察策略对业务指标影响